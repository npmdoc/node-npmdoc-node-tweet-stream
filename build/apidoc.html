<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/SpiderStrategies/node-tweet-stream#readme"

    >node-tweet-stream (v2.0.1)</a>
</h1>
<h4>A twitter module to hook into the public filter streaming, seamlessly updating the tracking keywords.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-tweet-stream">module node-tweet-stream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.node-tweet-stream">
            function <span class="apidocSignatureSpan"></span>node-tweet-stream
            <span class="apidocSignatureSpan">(oauth)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.super_">
            function <span class="apidocSignatureSpan">node-tweet-stream.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter">
            function <span class="apidocSignatureSpan">node-tweet-stream.</span>twitter
            <span class="apidocSignatureSpan">(oauth)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-tweet-stream.</span>twitter.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-tweet-stream.twitter">module node-tweet-stream.twitter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.twitter">
            function <span class="apidocSignatureSpan">node-tweet-stream.</span>twitter
            <span class="apidocSignatureSpan">(oauth)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.super_">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-tweet-stream.twitter.prototype">module node-tweet-stream.twitter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype._write">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>_write
            <span class="apidocSignatureSpan">(data, encoding, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.abort">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>abort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.addFilter">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>addFilter
            <span class="apidocSignatureSpan">(filter, keywords, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.backoffs">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>backoffs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.connect">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.follow">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>follow
            <span class="apidocSignatureSpan">(follow, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.following">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>following
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.hasFilters">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>hasFilters
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.language">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>language
            <span class="apidocSignatureSpan">(lang, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.languages">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>languages
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.location">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>location
            <span class="apidocSignatureSpan">(location, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.locations">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>locations
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.reconnect">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>reconnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.removeAllFilters">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>removeAllFilters
            <span class="apidocSignatureSpan">(filter, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.removeFilter">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>removeFilter
            <span class="apidocSignatureSpan">(filter, keyword, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.track">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>track
            <span class="apidocSignatureSpan">(keyword, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.trackMultiple">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>trackMultiple
            <span class="apidocSignatureSpan">(keywords, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.tracking">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>tracking
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.unfollow">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>unfollow
            <span class="apidocSignatureSpan">(follow, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.unlanguage">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>unlanguage
            <span class="apidocSignatureSpan">(language, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.unlocate">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>unlocate
            <span class="apidocSignatureSpan">(location, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.untrack">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>untrack
            <span class="apidocSignatureSpan">(keyword, reconnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-tweet-stream.twitter.prototype.untrackAll">
            function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>untrackAll
            <span class="apidocSignatureSpan">(reconnect)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>timeoutInterval</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>errorExplanation</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>twitterUrl</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-tweet-stream" id="apidoc.module.node-tweet-stream">module node-tweet-stream</a></h1>


    <h2>
        <a href="#apidoc.element.node-tweet-stream.node-tweet-stream" id="apidoc.element.node-tweet-stream.node-tweet-stream">
        function <span class="apidocSignatureSpan"></span>node-tweet-stream
        <span class="apidocSignatureSpan">(oauth)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">node-tweet-stream = function (oauth) {
  if(!(this instanceof Twitter)) {
    return new Twitter(oauth)
  }

  if (!oauth || !oauth.consumer_secret || !oauth.consumer_key || !oauth.token || !oauth.token_secret) {
    throw new Error(&#x27;Oauth credentials required&#x27;)
  }
  this.oauth = oauth

  this._filters = {
    tracking: {},
    location: {},
    follow: {},
    language: {}
  }

  this.backoffs()

  Writable.call(this, {objectMode: true})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.super_" id="apidoc.element.node-tweet-stream.super_">
        function <span class="apidocSignatureSpan">node-tweet-stream.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Writable(options) {
  // Writable ctor is applied to Duplexes, too.
  // `realHasInstance` is necessary because using plain `instanceof`
  // would return false, as no `_writableState` property is attached.

  // Trying to use the custom `instanceof` for Writable here will also break the
  // Node.js LazyTransform implementation, which has a non-trivial getter for
  // `_writableState` that would lead to infinite recursion.
  if (!(realHasInstance.call(Writable, this)) &#x26;&#x26;
      !(this instanceof Stream.Duplex)) {
    return new Writable(options);
  }

  this._writableState = new WritableState(options, this);

  // legacy.
  this.writable = true;

  if (options) {
    if (typeof options.write === &#x27;function&#x27;)
      this._write = options.write;

    if (typeof options.writev === &#x27;function&#x27;)
      this._writev = options.writev;
  }

  Stream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter" id="apidoc.element.node-tweet-stream.twitter">
        function <span class="apidocSignatureSpan">node-tweet-stream.</span>twitter
        <span class="apidocSignatureSpan">(oauth)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">twitter = function (oauth) {
  if(!(this instanceof Twitter)) {
    return new Twitter(oauth)
  }

  if (!oauth || !oauth.consumer_secret || !oauth.consumer_key || !oauth.token || !oauth.token_secret) {
    throw new Error(&#x27;Oauth credentials required&#x27;)
  }
  this.oauth = oauth

  this._filters = {
    tracking: {},
    location: {},
    follow: {},
    language: {}
  }

  this.backoffs()

  Writable.call(this, {objectMode: true})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-tweet-stream.twitter" id="apidoc.module.node-tweet-stream.twitter">module node-tweet-stream.twitter</a></h1>


    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.twitter" id="apidoc.element.node-tweet-stream.twitter.twitter">
        function <span class="apidocSignatureSpan">node-tweet-stream.</span>twitter
        <span class="apidocSignatureSpan">(oauth)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">twitter = function (oauth) {
  if(!(this instanceof Twitter)) {
    return new Twitter(oauth)
  }

  if (!oauth || !oauth.consumer_secret || !oauth.consumer_key || !oauth.token || !oauth.token_secret) {
    throw new Error(&#x27;Oauth credentials required&#x27;)
  }
  this.oauth = oauth

  this._filters = {
    tracking: {},
    location: {},
    follow: {},
    language: {}
  }

  this.backoffs()

  Writable.call(this, {objectMode: true})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.super_" id="apidoc.element.node-tweet-stream.twitter.super_">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Writable(options) {
  // Writable ctor is applied to Duplexes, too.
  // `realHasInstance` is necessary because using plain `instanceof`
  // would return false, as no `_writableState` property is attached.

  // Trying to use the custom `instanceof` for Writable here will also break the
  // Node.js LazyTransform implementation, which has a non-trivial getter for
  // `_writableState` that would lead to infinite recursion.
  if (!(realHasInstance.call(Writable, this)) &#x26;&#x26;
      !(this instanceof Stream.Duplex)) {
    return new Writable(options);
  }

  this._writableState = new WritableState(options, this);

  // legacy.
  this.writable = true;

  if (options) {
    if (typeof options.write === &#x27;function&#x27;)
      this._write = options.write;

    if (typeof options.writev === &#x27;function&#x27;)
      this._writev = options.writev;
  }

  Stream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-tweet-stream.twitter.prototype" id="apidoc.module.node-tweet-stream.twitter.prototype">module node-tweet-stream.twitter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype._write" id="apidoc.element.node-tweet-stream.twitter.prototype._write">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>_write
        <span class="apidocSignatureSpan">(data, encoding, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_write = function (data, encoding, done) {
  if (data.text) {
    this.emit(&#x27;tweet&#x27;, data)
  } else if (data.delete) {
    this.emit(&#x27;delete&#x27;, data.delete)
  } else if (data.scrub_geo) {
    this.emit(&#x27;scrub_geo&#x27;, data.scrub_geo)
  } else if (data.limit) {
    this.emit(&#x27;limit&#x27;, data.limit)
  } else if (data.status_withheld) {
    this.emit(&#x27;status_withheld&#x27;, data.status_withheld)
  } else if (data.user_withheld) {
    this.emit(&#x27;user_withheld&#x27;, data.user_withheld)
  } else if (data.disconnect) {
    this.emit(&#x27;disconnect&#x27;, data.disconnect)
  } else if (data.warning) {
    this.emit(&#x27;warning&#x27;, data.warning)
  }
  done()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.abort" id="apidoc.element.node-tweet-stream.twitter.prototype.abort">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>abort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">abort = function () {
  if (this.parser) {
    this.parser.destroy()
  }
  clearTimeout(this.timeout)
  if (this.stream) {
    this.stream.abort()
  }

  this.stream = null
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.addFilter" id="apidoc.element.node-tweet-stream.twitter.prototype.addFilter">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>addFilter
        <span class="apidocSignatureSpan">(filter, keywords, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addFilter = function (filter, keywords, reconnect) {
  reconnect = typeof reconnect === &#x27;undefined&#x27; || reconnect

  if (!Array.isArray(keywords)) {
    keywords = [keywords]
  }

  var addedNewKeyword = false
  keywords.forEach((function (keyword) {
    if (this._filters[filter][keyword]) {
      this._filters[filter][keyword]++
    } else {
      this._filters[filter][keyword] = 1
      this.stale = true
      addedNewKeyword = true
    }
  }).bind(this))

  if (reconnect &#x26;&#x26; addedNewKeyword) {
    this.reconnect()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.backoffs" id="apidoc.element.node-tweet-stream.twitter.prototype.backoffs">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>backoffs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">backoffs = function () {
  // Network hiccup, try every 250 seconds
  this.networkBackoff = backoff(0, 16 * 1000, function (x) { return x + 250 })
  // Rate limited. Try exponetially starting at 5 seconds
  this.httpBackoff = backoff(5 * 1000, 320 * 1000, function (x) { return x * 2 })
  // Rate limited. Try exponetially starting at a minute
  this.rateBackoff = backoff(60 * 1000, Infinity, function (x) { return x * 2 })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.connect" id="apidoc.element.node-tweet-stream.twitter.prototype.connect">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
  this.stale = false
  if (!this.hasFilters()) {
    return
  }

  this.stream = request.post({
    url: this.twitterUrl,
    oauth: this.oauth,
    form: {
      track: Object.keys(this._filters[FILTER_TYPE_TRACKING]).join(&#x27;,&#x27;),
      locations: Object.keys(this._filters[FILTER_TYPE_LOCATION]).join(&#x27;,&#x27;),
      follow: Object.keys(this._filters[FILTER_TYPE_FOLLOW]).join(&#x27;,&#x27;),
      language: Object.keys(this._filters[FILTER_TYPE_LANGUAGE]).join(&#x27;,&#x27;)
    }
  })

  this.once(&#x27;error&#x27;, function (err) {
    console.log(&#x27;Encountered an unrecoverable error, the stream is abort.&#x27;)
    console.log(&#x27;  Reason: [&#x27;, err.code, &#x27;]&#x27;, err.explain.long)
    console.log(&#x27;  Please refer to https://dev.twitter.com/streaming/overview/connecting to debug your request parameters.&#x27;)
  })

  this.stream.on(&#x27;response&#x27;, (function (res) {
    var self = this
    // Rate limited or temporarily unavailable
    if (res.statusCode === 420 || res.statusCode === 503) {
      var backoff = res.statusCode === 420 ? this.rateBackoff() : this.httpBackoff();
      this.abort()
      setTimeout(function () {
        self.connect()
      }, backoff)

      this.emit(&#x27;reconnect&#x27;, {
        type: this.errorExplanation[res.statusCode].type,
        explain: this.errorExplanation[res.statusCode]
      })
      return
    }

    // Http error
    if (res.statusCode &#x3e; 200) {
      this.abort()

      this.emit(&#x27;error&#x27;, {
        type: &#x27;http&#x27;,
        err: new Error(&#x27;Twitter connection error &#x27; + res.statusCode),
        code: res.statusCode,
        explain: this.errorExplanation[res.statusCode]
      })
      return
    }

    // 200. Alive and well.
    this.backoffs()

    this.emit(&#x27;connect&#x27;)

    this.parser = split(null, function (d) {
      try {
        return JSON.parse(d)
      } catch (e) {}
    })

    this.parser = res.pipe(this.parser, {end: false})
    this.parser.pipe(this)

    // Handle this: https://dev.twitter.com/docs/streaming-apis/connecting#Stalls
    // Abort the connection and reconnect if we haven&#x27;t received an update for 90 seconds
    var close = (function () {
      this.abort()
      process.nextTick(this.connect.bind(this))
      this.emit(&#x27;reconnect&#x27;, {type: &#x27;stall&#x27;})
    }).bind(this)

    this.timeout = setTimeout(close, this.timeoutInterval)

    res.on(&#x27;data&#x27;, function () {
      clearTimeout(self.timeout)
      self.timeout = setTimeout(close, self.timeoutInterval)
    })
  }).bind(this))

  this.stream.on(&#x27;error&#x27;, (function (err) {
    var self = this
    this.abort()
    this.emit(&#x27;reconnect&#x27;, {type: &#x27;network&#x27;, err: err})
    setTimeout(function () {
      self.connect()
    }, this.networkBackoff())
  }).bind(this))
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.follow" id="apidoc.element.node-tweet-stream.twitter.prototype.follow">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>follow
        <span class="apidocSignatureSpan">(follow, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">follow = function (follow, reconnect) {
  this.addFilter(FILTER_TYPE_FOLLOW, follow, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.following" id="apidoc.element.node-tweet-stream.twitter.prototype.following">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>following
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">following = function () {
  return Object.keys(this._filters[FILTER_TYPE_FOLLOW]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.hasFilters" id="apidoc.element.node-tweet-stream.twitter.prototype.hasFilters">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>hasFilters
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasFilters = function () {
  return this.tracking().length &#x3e; 0 || this.locations().length &#x3e; 0 || this.following().length &#x3e; 0 || this.languages().length &#x3e; 0
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.language" id="apidoc.element.node-tweet-stream.twitter.prototype.language">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>language
        <span class="apidocSignatureSpan">(lang, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">language = function (lang, reconnect) {
  this.addFilter(FILTER_TYPE_LANGUAGE, lang, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.languages" id="apidoc.element.node-tweet-stream.twitter.prototype.languages">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>languages
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">languages = function () {
  return Object.keys(this._filters[FILTER_TYPE_LANGUAGE]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.location" id="apidoc.element.node-tweet-stream.twitter.prototype.location">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>location
        <span class="apidocSignatureSpan">(location, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">location = function (location, reconnect) {
  this.addFilter(FILTER_TYPE_LOCATION, location, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.locations" id="apidoc.element.node-tweet-stream.twitter.prototype.locations">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>locations
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">locations = function () {
  return Object.keys(this._filters[FILTER_TYPE_LOCATION])
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.reconnect" id="apidoc.element.node-tweet-stream.twitter.prototype.reconnect">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>reconnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reconnect = function () {
  if (this.stale) {
    if (this.stream) {
      this.abort()
    }
    this.connect()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.removeAllFilters" id="apidoc.element.node-tweet-stream.twitter.prototype.removeAllFilters">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>removeAllFilters
        <span class="apidocSignatureSpan">(filter, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllFilters = function (filter, reconnect) {
  reconnect = typeof reconnect === &#x27;undefined&#x27; || reconnect

  if (typeof this._filters[filter] === &#x27;undefined&#x27;) {
    return
  }
  this._filters[filter] = {};
  this.stale = true
  if (reconnect) {
    this.reconnect()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.removeFilter" id="apidoc.element.node-tweet-stream.twitter.prototype.removeFilter">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>removeFilter
        <span class="apidocSignatureSpan">(filter, keyword, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeFilter = function (filter, keyword, reconnect) {
  reconnect = typeof reconnect === &#x27;undefined&#x27; || reconnect

  if (typeof this._filters[filter][keyword] === &#x27;undefined&#x27;) {
    return
  }
  if (--this._filters[filter][keyword] === 0) {
    delete this._filters[filter][keyword]
    this.stale = true
    if (reconnect) {
      this.reconnect()
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.track" id="apidoc.element.node-tweet-stream.twitter.prototype.track">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>track
        <span class="apidocSignatureSpan">(keyword, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">track = function (keyword, reconnect) {
  this.addFilter(FILTER_TYPE_TRACKING, keyword, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  console.log(&#x27;tweet received&#x27;, tweet)
})

t.on(&#x27;error&#x27;, function (err) {
  console.log(&#x27;Oh no&#x27;)
})

t.<span class="apidocCodeKeywordSpan">track</span>(&#x27;nodejs&#x27;)
t.track(&#x27;pizza&#x27;)

// 5 minutes later
t.track(&#x27;tacos&#x27;)

// 10 minutes later
t.untrack(&#x27;pizza&#x27;)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.trackMultiple" id="apidoc.element.node-tweet-stream.twitter.prototype.trackMultiple">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>trackMultiple
        <span class="apidocSignatureSpan">(keywords, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trackMultiple = function (keywords, reconnect) {
  this.addFilter(FILTER_TYPE_TRACKING, keywords, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.tracking" id="apidoc.element.node-tweet-stream.twitter.prototype.tracking">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>tracking
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tracking = function () {
  return Object.keys(this._filters[FILTER_TYPE_TRACKING])
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.unfollow" id="apidoc.element.node-tweet-stream.twitter.prototype.unfollow">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>unfollow
        <span class="apidocSignatureSpan">(follow, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unfollow = function (follow, reconnect) {
  this.removeFilter(FILTER_TYPE_FOLLOW, follow, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.unlanguage" id="apidoc.element.node-tweet-stream.twitter.prototype.unlanguage">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>unlanguage
        <span class="apidocSignatureSpan">(language, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unlanguage = function (language, reconnect) {
  this.removeFilter(FILTER_TYPE_LANGUAGE, language, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.unlocate" id="apidoc.element.node-tweet-stream.twitter.prototype.unlocate">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>unlocate
        <span class="apidocSignatureSpan">(location, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unlocate = function (location, reconnect) {
  this.removeFilter(FILTER_TYPE_LOCATION, location, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.untrack" id="apidoc.element.node-tweet-stream.twitter.prototype.untrack">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>untrack
        <span class="apidocSignatureSpan">(keyword, reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">untrack = function (keyword, reconnect) {
  this.removeFilter(FILTER_TYPE_TRACKING, keyword, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
t.track(&#x27;nodejs&#x27;)
t.track(&#x27;pizza&#x27;)

// 5 minutes later
t.track(&#x27;tacos&#x27;)

// 10 minutes later
t.<span class="apidocCodeKeywordSpan">untrack</span>(&#x27;pizza&#x27;)
```

Watch yourself when updating your tracking keywords. Twitter has [guidelines](https://dev.twitter.com/docs/streaming-apis/connecting
#Rate_limiting) for connection rate limiting.


Backoff strategy ripped from https://github.com/benfoxall/tweets/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-tweet-stream.twitter.prototype.untrackAll" id="apidoc.element.node-tweet-stream.twitter.prototype.untrackAll">
        function <span class="apidocSignatureSpan">node-tweet-stream.twitter.prototype.</span>untrackAll
        <span class="apidocSignatureSpan">(reconnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">untrackAll = function (reconnect) {
  this.removeAllFilters(FILTER_TYPE_TRACKING, reconnect)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
